# iOS 시뮬레이터 마이크 가이드

## 🎤 iOS 시뮬레이터의 마이크 지원

### ✅ 가능한 것:
- Mac의 내장 마이크 사용
- 외부 마이크 (USB, 블루투스) 사용
- 녹음 권한 테스트

### ❌ 제한 사항:
- 음질이 실제 디바이스보다 떨어짐
- 때때로 작동하지 않음
- 시스템 설정에 따라 다름
- **신뢰할 수 없음 - 프로덕션 테스트 불가**

---

## 🔧 시뮬레이터 마이크 활성화 방법

### 1️⃣ Mac 시스템 환경설정 확인

```
시스템 환경설정 
→ 보안 및 개인 정보 보호 
→ 마이크
→ "Simulator" 또는 "Xcode" 체크 ✅
```

### 2️⃣ Mac 마이크 작동 확인

터미널에서 테스트:
```bash
# Mac 마이크 테스트
say "테스트"  # 소리 나오는지 확인

# 또는 QuickTime으로 녹음 테스트
# QuickTime Player → File → New Audio Recording
```

### 3️⃣ 시뮬레이터 오디오 설정

iOS 시뮬레이터 메뉴:
```
I/O → Audio Input → Built-in Microphone
```

또는:
```
I/O → Audio Input → [외부 마이크 선택]
```

### 4️⃣ 시뮬레이터 재시작

```
Device → Restart
```

---

## ⚠️ 시뮬레이터 마이크가 작동하지 않는 이유

### 일반적인 문제:

#### 1. Mac 시스템 권한 없음
**해결:**
```
시스템 환경설정 
→ 보안 및 개인 정보 보호 
→ 마이크
→ Simulator/Xcode 체크
```

#### 2. 다른 앱이 마이크 사용 중
**해결:**
```bash
# Zoom, Teams, Discord 등 종료
# 또는 Mac 재시작
```

#### 3. 시뮬레이터 버그
**해결:**
```
1. 시뮬레이터 완전 종료
2. Mac 재시작
3. 시뮬레이터 재실행
```

#### 4. Xcode 버전 문제
**해결:**
```
Xcode 14.3 이상 사용 권장
```

---

## 🎯 해결책: 실제 디바이스 사용 (강력 추천!)

### **iPhone/iPad로 테스트하는 것이 최선입니다!**

### 장점:
- ✅ 완벽한 마이크 작동
- ✅ 정확한 음질
- ✅ 실제 사용자 경험
- ✅ Live Activities 테스트 가능
- ✅ 신뢰할 수 있는 결과

### 설정 (매우 간단):

#### 1️⃣ iPhone을 Mac에 연결 (USB 케이블)

#### 2️⃣ iPhone 신뢰 설정
```
iPhone에서 "이 컴퓨터를 신뢰하시겠습니까?" 
→ "신뢰" 클릭
```

#### 3️⃣ Xcode에서 디바이스 선택
```
Xcode 상단:
[allsubmobile] [iPhone의 이름 ▼] 선택
```

#### 4️⃣ 빌드 및 실행
```
Command + R
```

#### 5️⃣ 완벽하게 작동! ✨

---

## 💡 현재 프로젝트에서는 괜찮습니다!

### **시뮬레이션 모드로 테스트 가능!**

현재 백엔드가 시뮬레이션 모드로 작동하므로:

```
iOS 시뮬레이터에서 마이크가 작동 안 해도:
  ↓
오디오 청크는 전송됨 (빈 오디오라도)
  ↓
백엔드가 샘플 텍스트 반환 (시뮬레이션)
  ↓
자막 정상 표시! ✅
```

---

## 🧪 테스트 시나리오

### **시나리오 1: 시뮬레이터 + 시뮬레이션 모드 (현재)**
```
✅ 마이크 작동 여부 무관
✅ 샘플 자막 자동 표시
✅ UI/UX 테스트 완벽
✅ 바로 테스트 가능
```

### **시나리오 2: 실제 디바이스 + 시뮬레이션 모드**
```
✅ 실제 녹음됨 (하지만 무시됨)
✅ 샘플 자막 표시
✅ UI/UX 테스트 완벽
✅ Live Activities 테스트 가능
```

### **시나리오 3: 실제 디바이스 + Whisper API**
```
✅ 실제 녹음
✅ 실제 음성 인식
✅ 실제 번역
✅ 완벽한 테스트
🔑 OpenAI API 키 필요
```

---

## 🎯 추천 테스트 순서

### 1️⃣ **지금 (시뮬레이터 + 시뮬레이션)**
```
목적: UI/UX 테스트, 플로우 확인
방법: 지금 바로 테스트
결과: 샘플 자막 자동 표시
```

### 2️⃣ **나중 (실제 디바이스 + 시뮬레이션)**
```
목적: 실제 디바이스 UX, Live Activities
방법: iPhone 연결 → Xcode 실행
결과: 실제 환경 테스트
```

### 3️⃣ **최종 (실제 디바이스 + Whisper API)**
```
목적: 완전한 기능 테스트
방법: OpenAI API 키 설정 → 실제 음성 테스트
결과: 실제 서비스 경험
```

---

## 💡 결론

### **iOS 시뮬레이터 마이크:**
- ✅ 이론상 작동 가능
- ⚠️  실제로는 불안정
- ❌ 프로덕션 테스트 부적합

### **현재 프로젝트:**
- ✅ 시뮬레이션 모드로 완벽 테스트 가능
- ✅ 마이크 작동 여부 무관
- ✅ UI/UX 확인 가능

### **실제 음성 인식 테스트:**
- 📱 실제 iPhone 사용 권장
- 🔑 OpenAI API 키 설정

---

## 🚀 지금 해야 할 것

**아무것도 하지 않아도 됩니다!**

- ✅ 백엔드 서버 실행 중
- ✅ 시뮬레이션 모드 작동 중
- ✅ iOS 앱 빌드 대기 중

빌드 완료 후:
1. **Toggle ON**
2. **마이크 권한 허용** (작동 안 해도 OK)
3. **플로팅 버튼 클릭**
4. **자막 자동 표시!** ✨ (2초마다 샘플 텍스트)

---

**시뮬레이터에서 마이크가 작동하지 않아도 샘플 자막이 표시되므로 테스트에는 문제없습니다!** 🎉

실제 음성 인식 테스트를 원하시면 iPhone을 연결하거나 OpenAI API 키를 설정하세요! 😊
